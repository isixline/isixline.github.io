<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        时间与时区 - undefined
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> sometimes code， sometimes design </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>isixline</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E6%97%B6%E9%97%B4"><span class="toc-text">标准时间</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%8F%E8%B0%83%E4%B8%96%E7%95%8C%E6%97%B6%EF%BC%88UTC%EF%BC%89"><span class="toc-text">协调世界时（UTC）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%88%B3-unix-%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-text">时间戳&#x2F;unix 时间戳</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%AA%E9%98%B3%E6%97%B6%E9%97%B4"><span class="toc-text">太阳时间</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E5%8C%BA"><span class="toc-text">时区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UTC-%E5%81%8F%E7%A7%BB"><span class="toc-text">UTC 偏移</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GMT"><span class="toc-text">GMT</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8F%E4%BB%A4%E6%97%B6"><span class="toc-text">夏令时</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%97%B6%E9%97%B4"><span class="toc-text">本地时间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F"><span class="toc-text">时间格式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ISO-8601"><span class="toc-text">ISO 8601</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#instant%EF%BC%88Java%EF%BC%89"><span class="toc-text">instant（Java）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TIMESTAMP"><span class="toc-text">TIMESTAMP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%97%B6%E7%9A%84%E6%97%B6%E9%97%B4%E8%BD%AC%E6%8D%A2"><span class="toc-text">数据库连接时的时间转换</span></a></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> sometimes code， sometimes design </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        时间与时区
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2021-07-15 00:00:00</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#时间" title="时间">时间</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h2 id="标准时间"><a href="#标准时间" class="headerlink" title="标准时间"></a>标准时间</h2><h4 id="协调世界时（UTC）"><a href="#协调世界时（UTC）" class="headerlink" title="协调世界时（UTC）"></a>协调世界时（UTC）</h4><p>Coordinated Universal Time，使用原子钟来计算时间。</p>
<p>“Z”是协调世界时中 0 时区的标志。</p>
<p>🌰 “09:30 UTC”就写作“09:30Z”或是“0930Z”。</p>
<p>🌰 “14:45:15 UTC”则为“14:45:15Z”或“144515Z”。</p>
<h4 id="时间戳-unix-时间戳"><a href="#时间戳-unix-时间戳" class="headerlink" title="时间戳/unix 时间戳"></a>时间戳/unix 时间戳</h4><p>是从 1970 年 1 月 1 日（UTC/GMT 的午夜）开始所经过的秒数。</p>
<p>最初计算机操作系统是 32 位，而时间也是用 32 位表示，2147483647。<br>换算下来大概是 68 年，实际上到 2038 年 01 月 19 日 03 时 14 分 07 秒，便会到达最大时间。</p>
<p>因为用 32 位来表示时间的最大间隔是 68 年，而最早出现的 UNIX 操作系统考虑到计算机产生的年代和应用的时限综合取了 1970 年 1 月 1 日作为 UNIX TIME 的纪元时间。</p>
<p>但是不用担心，64 位操作系统可以表示到 292,277,026,596 年 12 月 4 日 15 时 30 分 08 秒，哪怕地球毁灭那天都不用愁不够用了。</p>
<h2 id="太阳时间"><a href="#太阳时间" class="headerlink" title="太阳时间"></a>太阳时间</h2><h4 id="时区"><a href="#时区" class="headerlink" title="时区"></a>时区</h4><p>时区是地理上的一个区域，在该区域遵守同一的标准时间。</p>
<p>地球是自西向东自转的，因此东边会比西边先看到太阳。从经验上讲，太阳升降是一天的时间周期。在这种时间度量方式下，时间就不是一个绝对的概念了。</p>
<p>不同经度地区存在时差，但严格区分实在太不方便了。实际生活中，不需要到分和秒那么精确，1 小时内的误差是可以被接受的。</p>
<p>因此，1884 年在华盛顿召开的国际子午线会议上，规定将全球划分为 24 个时区(东、西各十二个时区)，其中以英国格林尼治天文台旧址作为零时区，每个时区横跨经度 15 度，时间恰好为 1 小时，而东、西第 12 时区各跨经度 7.5 度，以东、西经 180 度为界。每个时区内时间，统一以该时区的中央经线的时间为主，相邻的两个时区间总是相差一个小时，这就是时区的由来。</p>
<p>事实上，时区的划分并不是一个严谨的事情，常见的情况是：一个国家或者一个省份同时跨着 2 个或者更多的时区。<br>以中国为例，差不多横跨 5 个时区，理论上在国内应该有 5 个时间，但为了使用起来方便，我们统一用一个时区。<br>东八区覆盖了我国的绝大多数人口，且覆盖了我国绝大多数重要城市。因此选取东八区为“中国时间”，又因为北京是我国首都，所以称之为“北京时间”。</p>
<h4 id="UTC-偏移"><a href="#UTC-偏移" class="headerlink" title="UTC 偏移"></a>UTC 偏移</h4><p>UTC 偏移量是协调世界时（UTC）和特定地点的日期与时间差异，其单位为小时和分钟。<br>它通常以 ±[hh]:[mm]、±[hh][mm]、或 ±[hh]的格式显示。<br>UTC+08:00 是比世界协调时间快 8 小时的时区。</p>
<h4 id="GMT"><a href="#GMT" class="headerlink" title="GMT"></a>GMT</h4><p>Greenwich Mean Time 格林尼治标准时间。这个地方的当地时间过去被当成世界标准的时间。<br>GMT 是前世界标准时，UTC 是现世界标准时。UTC 比 GMT 更精准，以原子时计时，适应现代社会的精确计时。但在不需要精确到秒的情况下，二者可以视为等同。<br>格林尼治刚好在 0 时区上。</p>
<p>GMT = UTC+0</p>
<h4 id="夏令时"><a href="#夏令时" class="headerlink" title="夏令时"></a>夏令时</h4><p>DST（Daylight Saving Time），夏令时又称夏季时间，或者夏时制。使用夏令时的国家在夏季使用夏令时，标准时间也因此被相应地称为冬季时间。</p>
<p>是为节约能源而人为规定地方时间的制度。一般在天亮早的夏季人为将时间提前一小时，可以使人早起早睡，减少照明量，以充分利用光照资源，从而节约照明用电。</p>
<p>在施行夏令时的国家，一年里面有一天只有 23 小时（夏令时开始那一天），有一天有 25 小时（夏令时结束那一天），其他时间每天都是 24 小时。</p>
<p>从过去的 100 多年来看，夏令时往往是在国家发生严重危机（如战争和能源短缺）的情况下才会受到青睐。而在相对和平的近 10 年里，这种时间制度则变得越来越不受欢迎。它会使得人们的生物钟被扰乱，常常陷入睡眠不足的情况，不仅对人体健康有害、导致车祸，还会对旅游、航空领域造成极大的混乱。<br>另外，冬、夏令时究竟能否起到节能的作用，也仍有待商榷。美国一项截至 2014 年 3 月的研究表明，这种时间转换制度最多能在 3、4 月帮助美国减少 1%的用电量，而美国国家标准局则认为，夏令时对用电量没有丝毫影响。<br>在俄罗斯，此前的一份报告也显示，夏令时帮助俄罗斯每年节约的电量，仅相当于两三个火力发电厂的发电量，十分的“鸡肋”。</p>
<h4 id="本地时间"><a href="#本地时间" class="headerlink" title="本地时间"></a>本地时间</h4><p>在日常生活中所使用的时间我们通常称之为本地时间。<br>这个时间等于我们所在（或者所使用）时区内的当地时间，它由与世界标准时间（UTC）之间的偏移量来定义。<br>这个偏移量可以表示为 UTC- 或 UTC+，后面接上偏移的小时和分钟数。</p>
<h2 id="时间格式"><a href="#时间格式" class="headerlink" title="时间格式"></a>时间格式</h2><h4 id="ISO-8601"><a href="#ISO-8601" class="headerlink" title="ISO 8601"></a>ISO 8601</h4><p>国际标准 ISO 8601，是国际标准化组织的日期和时间的表示方法。</p>
<p>🌰 1970-01-01T00:00:00Z</p>
<ul>
<li>年 YYYY</li>
<li>月 MM</li>
<li>日 DD</li>
<li>T 标识为 UTC</li>
<li>Z 标识时区为 0</li>
</ul>
<h4 id="instant（Java）"><a href="#instant（Java）" class="headerlink" title="instant（Java）"></a>instant（Java）</h4><p>Instant.now()使用等是 UTC 时间</p>
<p>LocalDate、LocalDateTime 的 now()方法使用的是系统默认时区。</p>
<h4 id="TIMESTAMP"><a href="#TIMESTAMP" class="headerlink" title="TIMESTAMP"></a>TIMESTAMP</h4><p>存储时，MySQL 将 TIMESTAMP 值从当前时区转换为 UTC 时间进行存储，查询时，将数据从 UTC 转换为检索的当前时区。</p>
<p>默认情况下，每个连接的当前时区是服务器的时间。时区可以根据每个连接进行设置。只要时区设置保持不变，就可以得到存储的相同值。</p>
<p>只要写入和读出时的时区设置一致，就能获取到一致的值。</p>
<h4 id="数据库连接时的时间转换"><a href="#数据库连接时的时间转换" class="headerlink" title="数据库连接时的时间转换"></a>数据库连接时的时间转换</h4><p>每次创建会话前，先取服务端的时区 STZ 和客户端时区 CTZ(比如 serverTimezone=GMT+8)<br>如果 CTZ 没有设置就尝试将 STZ 转换为客户端时区，作为当前会话的时区。</p>
<p>时间类型的处理发生在 SQL 参数绑定阶段，Java 日期时间类型被转换为 SQL 语句(字符串)</p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
