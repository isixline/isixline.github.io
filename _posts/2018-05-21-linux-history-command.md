正在学习 Linux，记录一下学习历程。

## 历史列表

在历史列表中，每条命令称为一个事件，每个事件都有一个内部编号，称为事件编号。

```
fc -l 或 history
```

指定历史列表大小：
设置环境变量 HISTSIZE

## 使用历史命令

`<up>`键调取上一条命令，不断`<up>`按列表向上遍历命令。

`<down>`键调取下一条命令，不断`<up>`按列表向下便历命令。

fc -s 显示并执行上一条命令。

fc -s 事件编号 显示并执行指定编号命令。

fc -s 部分命令 显示并执行包含此部分命令的最近命令。

! 显示并执行上一条命令。

!事件编号 显示并执行指定编号命令。

## 修改并执行历史命令

`<Ctrl-W>` 删除键入的最后一个单词。

`<Ctrl-X>`或`<Ctrl-U>` 删除整行。

## 替换命令中的一部分内容：

```
fc -s pattern=replacement number
```

替换命令中所有的 pattren 为 replacement

如：事件为 25 vi tempfile

```
fc -s tempfile=data 25
```

不指定 number 为上一条命令。

ps：当使用 rm 命令删除文件时，一旦删除，就再也无法恢复（现在先暂停一会，以便其他操作系统用户恢复镇静）。可利用历史命令来减轻风险。先按照 rm 命令准备使用的模式来使用 ls 命令，确认正确后，用 fc -s ls=rm 重新执行命令，删除所有文件。

pps：可以用使用别名提高效率。最常用：alias h=history  和   alias r="fc -s"  以及   alias del="fc -s ls=rm"
